var name=document.getElementById("name"),phone=document.getElementById("phone"),pwd=document.getElementById("pwd"),yztext=document.getElementById("yztext"),yzbut=document.getElementById("yzbut"),yzmsg=document.getElementById("yzmsg"),zhuce=document.getElementById("zhuce"),i=30;function legality(e){var n=document.getElementById(e+"msg"),t=document.getElementById(e);switch(e){case"name":if(""===t.value)return!(n.innerHTML="用户名不能为空");if(!new RegExp(/^(?!(\d+)$)[\u4e00-\u9fff\w]+$/).test(t.value))return!(n.innerHTML="用户名仅支持中英文、数字和下划线,且不能为纯数字");break;case"phone":if(""===t.value)return!(n.innerHTML="手机号不能为空");if(!new RegExp(/0?(13|14|15|17|18)[0-9]{9}/).test(t.value))return!(n.innerHTML="手机号格式不正确");break;case"pwd":if(""===t.value)return!(n.innerHTML="密码不能为空");if(!new RegExp(/(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^[^\s\u4e00-\u9fa5]{8,14}$/).test(t.value))return!(n.innerHTML="密码设置不符合要求")}n.innerHTML=""}zhuce.onclick=function(){legality("name"),legality("phone"),legality("pwd")},document.getElementById("name").onblur=function(){console.log(555),legality("name")},phone.onblur=function(){legality("phone")},pwd.onblur=function(){legality("pwd")},yzbut.onclick=function(){yzbut.setAttribute("disabled","true");var e=setInterval(function(){0==--i?(clearInterval(e),yzbut.value="获取验证码",yzbut.removeAttribute("disabled"),yzmsg.innerHTML="请求超时,请稍后再试"):yzbut.value="获取验证码（"+i+"s)"},1e3)};